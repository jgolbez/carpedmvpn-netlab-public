name: ospf-lab3-metrics

topology:
  nodes:
    r1:
      kind: linux
      image: quay.io/frrouting/frr:10.1.0
      binds:
        - configs/daemons:/etc/frr/daemons
        - configs/vtysh.conf:/etc/frr/vtysh.conf
        - configs/r1-frr.conf:/etc/frr/frr.conf
    
    r2:
      kind: linux
      image: quay.io/frrouting/frr:10.1.0
      binds:
        - configs/daemons:/etc/frr/daemons
        - configs/vtysh.conf:/etc/frr/vtysh.conf
        - configs/r2-frr.conf:/etc/frr/frr.conf
    
    r3:
      kind: linux
      image: quay.io/frrouting/frr:10.1.0
      binds:
        - configs/daemons:/etc/frr/daemons
        - configs/vtysh.conf:/etc/frr/vtysh.conf
        - configs/r3-frr.conf:/etc/frr/frr.conf
    
    r4:
      kind: linux
      image: quay.io/frrouting/frr:10.1.0
      binds:
        - configs/daemons:/etc/frr/daemons
        - configs/vtysh.conf:/etc/frr/vtysh.conf
        - configs/r4-frr.conf:/etc/frr/frr.conf

  links:
    # Multiple paths between R1 and R4
    # Path 1: R1 -- R2 -- R4 (top path)
    - endpoints: ["r1:eth1", "r2:eth1"]
    - endpoints: ["r2:eth2", "r4:eth1"]
    
    # Path 2: R1 -- R3 -- R4 (bottom path)
    - endpoints: ["r1:eth2", "r3:eth1"]
    - endpoints: ["r3:eth2", "r4:eth2"]
    
    # Path 3: R1 -- R4 (direct path)
    - endpoints: ["r1:eth3", "r4:eth3"]
